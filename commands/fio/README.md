fio
========================================

fio最初是用来节省为特定负载写专门测试程序，或是进行性能测试，或是找到和重现bug的时间。
写这么一个测试应用是非常浪费时间的。因此需要一个工具来模拟给定的io负载，而不用重复的写
一个又一个的特定的测试程序。但是test负载很难定义。因为可能会产生很多进程或线程，他们
每一个都用他们自己的方式产生io。fio需要足够灵活得来模拟这些case。

Arguments
----------------------------------------

* filename: 指定文件(设备)的名称。可以通过冒号分割同时指定多个文件，如filename=/dev/sda:/dev/sdb。
* directory: 设置filename的路径前缀。在后面的基准测试中，采用这种方式来指定设备。
* name: 指定job的名字，在命令行中表示新启动一个job。
* direct: bool类型，如果设置成true (1)，表示不使用io buffer。
* ioengine: I/O引擎，现在fio支持19种ioengine。默认值是sync同步阻塞I/O，libaio是Linux的native异步I/O。

http://www.ibm.com/developerworks/cn/linux/l-async/

* iodepth: 如果ioengine采用异步方式，该参数表示一批提交保持的io单元数。该参数可参考文章“Fio压测工具和io队列深度理解和误区”。

http://blog.yufeng.info/archives/2104

* rw: I/O模式，随机读写，顺序读写等等。
* bs: I/O block大小，默认是4k。
* size: 指定job处理的文件的大小。
* numjobs: 指定job的克隆数(线程)。
* time_based: 如果在runtime指定的时间还没到时文件就被读写完成，将继续重复知道runtime时间结束。
* runtime: 指定在多少秒后停止进程。如果未指定该参数，fio将执行至指定的文件读写完全完成。
* group_reporting: 当同时指定了numjobs了时，输出结果按组显示。

硬盘性能指标
----------------------------------------

* 顺序读写 （吞吐量，常用单位为MB/s）：文件在硬盘上存储位置是连续的。

适用场景：大文件拷贝（比如视频音乐）。速度即使很高，对数据库性能也没有参考价值。

* 4K随机读写 （IOPS，常用单位为次）：在硬盘上随机位置读写数据，每次4KB。

适用场景：操作系统运行、软件运行、数据库。

**Notes**:

* bw: 磁盘的吞吐量，这个是顺序读写考察的重点
* iops: 磁盘的每秒读写次数，这个是随机读写考察的重点